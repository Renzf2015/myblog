{% extends "base.html" %}
{% import "bootstrap/wtf.html" as wtf %}
{% import "_macros.html" as macros %}

{% block title %}写博客{% endblock %}

{% block page_content %}
<div>
    <form action="" method="post" class="form" role="form">
  		{{ form.hidden_tag() }}
  		<div class="form-group  required"><label class="control-label" for="title">标题</label>
        <input class="form-control" id="title" name="title" required type="text" value="">
        </div>
        <div class="form-group  required"><label class="control-label" for="body">正文</label>
        <div class="flask-pagedown"><textarea class="form-control flask-pagedown-inputn" id="flask-pagedown-body" name="body" required rows="10"></textarea></div>
<div class="flask-pagedown-preview" id="flask-pagedown-body-preview"></div>
<script type="text/javascript">
f = function() {
    if (typeof flask_pagedown_converter === "undefined")
        flask_pagedown_converter = Markdown.getSanitizingConverter().makeHtml;
    var textarea = document.getElementById("flask-pagedown-body");
    var preview = document.getElementById("flask-pagedown-body-preview");
    textarea.onkeyup = function() { preview.innerHTML = flask_pagedown_converter(textarea.value); }
    textarea.onkeyup.call(textarea);
}
if (document.readyState === 'complete')
    f();
else if (window.addEventListener)
    window.addEventListener("load", f, false);
else if (window.attachEvent)
    window.attachEvent("onload", f);
else
    f();
</script>
        
 </div>
 <input class="btn btn-default" id="submit" name="submit" type="submit" value="提交">
</form>
</div>
{% endblock %}

{% block scripts %}
{{ super() }}
{{ pagedown.include_pagedown() }}
{% endblock %}
